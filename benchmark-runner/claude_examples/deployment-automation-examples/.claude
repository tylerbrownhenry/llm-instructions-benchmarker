{
  "deployment": {
    "environments": ["development", "staging", "production"],
    "strategy": "blue-green",
    "auto_deploy": {
      "development": true,
      "staging": true,
      "production": false
    }
  },

  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Edit|Write",
        "hooks": [
          {
            "type": "command",
            "command": "if [[ \"$CLAUDE_TOOL_INPUT_FILE_PATH\" == package.json ]]; then echo \"Package updated - checking for deployment\" >> .claude/deploy.log; fi"
          },
          {
            "type": "command",
            "command": "if [[ \"$CLAUDE_TOOL_INPUT_FILE_PATH\" == Dockerfile* ]]; then echo \"Container config changed - rebuild required\" >> .claude/deploy.log; fi"
          }
        ]
      }
    ],
    "Stop": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "command",
            "command": "if [ -s .claude/deploy.log ]; then echo \"Deployment considerations:\"; cat .claude/deploy.log; rm .claude/deploy.log; fi"
          }
        ]
      }
    ]
  },

  "workflows": {
    "deploy-to-staging": {
      "description": "Deploy current branch to staging environment",
      "steps": [
        {"command": "npm run build"},
        {"command": "npm run test:e2e"},
        {"command": "docker build -t app:staging ."},
        {"command": "kubectl apply -f k8s/staging/"},
        {"command": "kubectl rollout status deployment/app-staging"}
      ]
    },
    "production-deploy": {
      "description": "Full production deployment with safety checks",
      "steps": [
        {"command": "npm run build:production"},
        {"command": "npm run test:full"},
        {"command": "npm run security:scan"},
        {"command": "docker build -t app:$(git rev-parse HEAD) ."},
        {"command": "kubectl set image deployment/app app=app:$(git rev-parse HEAD)"},
        {"command": "kubectl rollout status deployment/app"},
        {"command": "npm run smoke:test"}
      ]
    },
    "rollback": {
      "description": "Emergency rollback to previous version",
      "steps": [
        {"command": "kubectl rollout undo deployment/app"},
        {"command": "kubectl rollout status deployment/app"},
        {"command": "npm run smoke:test"}
      ]
    }
  },

  "monitoring": {
    "health_checks": true,
    "metrics_collection": true,
    "alerting": {
      "slack_webhook": "$SLACK_WEBHOOK_URL",
      "email_notifications": true
    }
  },

  "ci_cd": {
    "provider": "github-actions",
    "pipeline_config": ".github/workflows/deploy.yml",
    "secrets": ["DOCKER_REGISTRY", "KUBE_CONFIG", "AWS_CREDENTIALS"]
  }
}